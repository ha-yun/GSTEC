# 5주차
## <1>
### 1 : 이산확률변수 & 확률분포
확률변수:
* 확률변수 (random variable): 확률실험의 각 결과에 실수를 부여하는 함수.
* 확률변수의 값은 하나의 수치로 나타낸 사건이다.  
* 확률변수의 유형
  1. 이산확률변수 (discrete random variable): 셀 수 있는 가지수의 값을 가지는 확률변수.
  2. 연속확률변수 (continuous random variable): 셀 수 없는 (무한대) 가지수의 값을 가지는 확률 변수
    
확률분포의 유형:
* 이산확률분포함수 (discrete probability distribution): 이산확률변수가 가지는 값과 이것의 확률 사이의 대응 관계.  
→ 확률변수 X의 값이 x일 확률은 𝑃(𝑋 = 𝑥) 또는 𝑃 𝑥 와 같이 표기한다.
  - 이산확률분포의 필수조건:
    * 0 ≤ 𝑃(𝑥) ≤ 1
    * σ𝑎𝑙𝑙 𝑥𝑖 𝑃(𝑥𝑖) = 1
* 연속확률분포함수/확률밀도함수 (continuous probability distribution/probability density function): 이것을 사용하여 연속확률변수의 값이 특정 구간에 속할 확률을 나타냄.
  
누적확률:
* 확률변수 X의 개별값이 실현되는 확률을 확률분포 𝑃(𝑥)로 나타내었다.
* 누적확률은 확률변수의 값이 특정 구간에 속할 확률이다.  
예). 𝑃(𝑋 ≥ 80)  
𝑃(𝑋는 50이상 80 이하)  
𝑃(𝑋는 최소값 이상 최고값 이하)
* 누적확률은 0 이상 1이하의 수치이다.

모집단과 모수:
* 모집단 (population): 분석 대상 전체 (현실적 또는 이상적).
* 모수 (parameter): 모집단의 특성을 의미함.  
예). 모평균, 모분산, 모표준편차, 등.
* 확률분포함수를 사용해서 모수를 계산할 수 있다.  

이산확률변수의 모평균 m :
* 이산확률변수가 가질 수 있는 값들에 확률을 가중치로 곱해서 평균을 구한 것 (='더한 것).
* 확률변수 X의 기대값 (expected value)이라고도 부르며 𝐸[𝑋]로 나타낸다.  
m = E[X] = ∑xP(x)

이산확률변수의 모분산 𝜎**2:
* 모평균을 기준으로한 편차의 제곱에 확률을 가중치로 곱해서 평균을 구한 것 (='더한 것).
* 확률변수 X의 모분산을 𝑉𝑎𝑟(𝑋)와 같이 나타내기도 한다.  
𝜎**2 = 𝑉𝑎𝑟(X) = ∑(x-m)^2 * P(x) = (∑x^2 * P(x)) - m^2 = E[X^2] - (E[X])^2
  
### 2: 이산확률분포의 여러 종류
베르누이 확률분포 (Bernoulli), 베르누이 시행:
* 베르누이 시행에는 두개의 가능한 값이 있다.  
예). 1 또는 0, 동전의 앞면(H) 또는 뒷면(T), “성공” 또는 “실패”.
* 확률변수 X가 베르누이 확률분포를 따른다는 것을 다음과 같이 표기할 수 있다.  
𝑋~𝐵𝑒𝑟(𝑝)
  
이항확률분포 (Binomial):
* 이항확률변수 𝑋𝑏𝑖𝑛은 0 또는 1의 값을 갖는 n개의 베르누이확률변수 𝑋𝐵𝑒𝑟 를 더한 것.  
𝑋𝑏𝑖𝑛 = 𝑋𝐵𝑒𝑟 + 𝑋𝐵𝑒𝑟 + ⋯ + 𝑋𝐵𝑒𝑟
* 개개의 베르누이확률변수는 독립적이다.  동전 던지기는 이전 결과와는 무관하다.
* 확률변수 X가 이항확률분포를 따른다는 것을 다음과 같이 표기할 수 있다.  
𝑋~𝐵𝑖𝑛(𝑛, 𝑝)  
  - 평균 : n p
  - 분산 : 𝑛 𝑝(1 − 𝑝)
  - 표준편차 : 𝑛 𝑝(1 − 𝑝)
    
Q. 동전 던지기 게임에 참가하겠습니까?
- 앞면이 나오면 수익은 100달러, 반대로 뒷면이 나오면 수익 0달러이다.
- 매번 게임에 참가하는 비용은 40$이다.

샤프지수는 리스크 대비 초과수익을 나타냅니다.   
  > 샤프지수 = 초과수익/리스크  
    = (기대수익 −참가비용)/리스크  
    = (50 −40)/50 = 0.2  
    1 미만의 샤프지수는 불만족스럽습니다. 

그런데, 1 회 이상 n 회 동전 던지기를 할 수 있다면?  
초과수익은 n에 비례해서 증가합니다.
> - 리스크(표준편차, 변동성)은 𝑛에 비례해서 증가합니다.
> - 이항 분포 (binomial distribution)의 특성입니다.    
    샤프지수 =(50 −40) ×𝑛/50× 루트𝑛 = 0.2 × 루트n

```python
import scipy.stats as st
# python의 이산확률 함수
# 이항(Binomial)
scipy.stats.binom.pmf()   # 확률분포
scipy.stats.binom.cdf()   # 누적확률
scipy.stats.binom.ppf()   # 분위수

# 푸아송(Poisson)
scipy.stats.poisson.pmf()
scipy.stats.poisson.ppf()
scipy.stats.poisson.cdf()
```

<hr>

## <2>
## 3: 연속확률변수 & 확률밀도
연속확률변수:
- 연속확률변수 (continuous random variable): 셀 수 없는 (무한대) 가지수의 값을 가지는 확률
변수.  
예) 1년 연봉, 성인남성의 신장 등.
- 연속확률변수의 경우 확률은 실수 구간에 대해서 정의되어 있음.  
 즉 𝑃 𝑋 = 𝒙𝟎 와 같이 특정위치에 대한 확률은 의미가 없고, 𝑃(𝑥1 ≤ 𝑋 ≤ 𝑥2)와 같이 X가 어느 실수 구간에 있을 확률이
의미가 있다.

연속확률분포:
- 연속확률분포함수/확률밀도함수 (continuous probability distribution/probability density function):  
→ 이산확률분포함수와는 다르게 이것 자체만으로는 확률의 의미가 없다.  
→ 이것을 사용하여 연속확률변수의 값이 특정 구간에 속할 확률을 나타낼 수 있다.   
→ 연속확률분포함수 또는 확률밀도함수를 𝑓(𝑥)와 같이 표기하여 실제 확률 𝑃(𝑥)와는 구분 짓도록 한다.
  

### 4: 연속확률밀도의 여러 종류
|명칭|활용|
|---|---|
|정규분포|대표본 구간 추정, 대표본 평균 추론(가설검정)|
|스튜던트 t분포|소표본 구간 추정. 소표본 평균 추론 (가설검정). 선형회귀 계수 추론 (가설검정)|
|카이제곱 분포|소표본 구간 추정. 소표본 평균 추론 (가설검정). 선형회귀 계수 추론 (가설검정)|
|F분포|분산의 차이 비교 추론 (가설검정). 다수의 집단의 평균 비교 추론 (ANOVA). 선형회귀식의 설명력 추론 (가설검정)|

연속균등확률분포함수 (Uniform):
- 연속균등확률분포함수는 구간 [𝑎, 𝑏]에 대해서 정의되어 있다:
𝑓 (𝑥) = 1 / (𝑏 − 𝑎)
→ 이외의 구간에서는 𝑓(𝑥) = 0이다.
- 확률변수 X가 연속균등확률분포를 따른다는 것을 다음과 같이 표기할 수 있다.
𝑋~𝑈𝑛𝑖𝑓(𝑎, 𝑏)
- 확률밀도가 균등하므로 확률은 주어진 구간의 폭(x1-x2)에 비례한다.

연속균등분포의 누적확률함수 (Cumulative Density Function, CDF):
- 𝐶𝐷𝐹(𝑥) = 𝑃(𝑋 ≤ 𝑥)이다.
- CDF(x)는 x가 증가하면 1로 수렴한다.

정규확률분포함수 (Normal):
- 정규확률분포함수는 구간 (−∞, +∞)에 대해서 정의되어 있다:
𝑓 (𝑥) = 1 / 𝜎 * 루트(2𝜋) * 𝑒^ −(𝑥−𝜇)^2 /2𝜎^2  
𝑒 = 2.71828  
𝜋 = 3.141592
- 확률변수 X가 정규확률분포를 따른다는 것을 다음과 같이 표기할 수 있다.
𝑋~𝑁(𝜇, 𝜎^2)

표준정규확률분포함수 (Standard Normal):
- m = 0이고 𝜎^2 = 1인 정규확률분포를 표준정규분포라 한다:  
𝑓 (𝑧) = 1 / 루트(2𝜋) * 𝑒 ^ - 𝑧^2 / 2  
𝑒 = 2.71828  
𝜋 = 3.141592  
- 확률변수 Z가 표준정규확률분포를 따른다는 것을 다음과 같이 표기할 수 있다.  
𝑍~𝑁(0,1)

표준정규분포의 누적확률함수 (Cumulative Density Function, CDF):
- 𝐶𝐷𝐹(𝑧) = 𝑃(𝑍 ≤ 𝑧)이다.

표준화 (Standardization):  
- 확률변수 X가 정규확률분포를 따르는 경우𝑋 ~ 𝑁(𝜇, 𝜎^2),  
다음의 방식으로 X를 표준정규확률변수로 변환할 수 있다. 그러면 𝑍~𝑁(0,1). 이것을 “표준화”라고 부른다.  
𝑍 = (𝑋 − 𝜇) / 𝜎
- 표준화된 값 x를 z-score “표준점수”라고 부른다.  
𝑧 − 𝑠𝑐𝑜𝑟𝑒 = 𝑥 − 𝜇 / 𝜎
- 반대로 표준정규분포 확률변수 Z를 정규분포 𝑁(𝜇, 𝜎^2)를 따르는 확률변수로 변환할 수 있다.  
𝑋 = 𝜎 𝑍 + m

표준정규분포의 분위수 (Quantile of Standard Normal):  
- 분위수 또는 백분위수는 신뢰구간 계산에 필요하다.
- 𝑧𝛼라고 표기하며 왼쪽 면적(확률 = CDF)이 a와 같은 위치를 의미한다.
𝑃 (𝑍 < 𝑧𝛼) = a
  

<hr>

## <3>
카이제곱 분포함수 (Chi Square):
- k개의 표준정규분포를 따르는 독립적인 확률변수 𝑍 ~ 𝑁(0,1)가 있을때 카이제곱 확률변수 Q는 이들의 제곱의 합이다.  
𝑄 = 𝑍^2 + 𝑍^2 + 𝑍^2 + ⋯ + 𝑍^2  
<- k 개 →  
- 여기에서 k를 “자유도”라고 부른다.
- 확률변수 Q가 카이제곱 확률분포를 따른다는 것을 다음과 같이 표기할 수 있다.  
𝑄~𝜒^2(𝑘)


스튜던트 t 분포함수 (Student t):  
- 𝑄 ~ 𝜒^2(𝑘)이고 𝑍 ~ 𝑁(0,1)일때 스튜던트 t 확률변수 T는 다음과 같이 정의 된다.  
𝑇 = 𝑍/ 루트(𝑄/𝑘)
- 여기에서 k 는 카이제곱 확률변수의 “자유도”이다.
- 확률변수 T가 스튜던트 t 확률분포를 따른다는 것을 다음과 같이 표기할 수 있다.  
𝑇~ 𝑡(𝑘)
- 자유도 k가 커질수록 스튜던트 t는 표준정규분포로 수렴한다.


F 분포함수:  
- 𝑄1 ~ 𝜒^2(𝑑1)이고 𝑄2 ~ 𝜒^2(𝑑2)일때 F 확률변수 X는 다음과 같이 정의 된다.  
𝑋 = (𝑄1/𝑑1) / (𝑄2/𝑑2)
- 여기에서 𝑑1와 𝑑2는 카이제곱 확률변수의 “자유도”이다:  
→ 𝑑1 = 분자의 자유도  
→ 𝑑2 = 분모의 자유도  
- 확률변수 X가 F 확률분포를 따른다는 것을 다음과 같이 표기할 수 있다.  
𝑋~ 𝐹(𝑑1, 𝑑2)
- F 검정, 분산분석 (ANOVA) 등 활용

Python의 연속확률 함수:

|명칭|함수|
|---|---|
|연속균등(Uniform)|scipy.stats.uniform.pdf() scipy.stats.uniform.cdf() scipy.stats.uniform.ppf()|
|정규 (Norm)|scipy.stats.norm.()|
|지수 (Exponential)| scipy.stats.expon.()|
|카이제곱 (Chi Square)|scipy.stats.chi2.()|
|스튜던트 t (Student t)|scipy.stats.t.()|
|F| scipy.stats.f.()|

### 5: 결합확률과 상관계수
공분산 (Covariance):
-  결합확률을 사용하여 계산.
- “분산과 공분산의 연결”

상관계수 (Pearson Correlation Coefficient):
- 𝐶𝑜𝑟𝑟 𝑋, 𝑌 = 𝐶𝑜𝑣(𝑋,𝑌) / 𝜎𝑋𝜎𝑌
- 상관계수의 값은 -1과 1사이의 수치이다.
- 상관계수는 선형관계의 방향과 강도를 나타낸다.  
→ 𝐶𝑜𝑟𝑟(𝑋, 𝑌) > 0 : X와 Y 사이에 양의 선형관계가 있음.  
→ 𝐶𝑜𝑟𝑟 𝑋, 𝑌 < 0 : X와 Y 사이에 음의 선형관계가 있음.  
→ 𝐶𝑜𝑟𝑟 𝑋, 𝑌 = 0 : X와 Y 사이에 선형관계가 없음.  
- 상관성은 원인과 결과로 해석하면 안된다!
- 허구적 상관관계 (spurious correlation)도 있을 수 있으니 주의한다!
- 상관계수는 선형관계의 “명확함”을 나타낸다.
- 상관계수는 외상치 (outlier)에 민감하다.

독립성 vs 상관성:  
- 독립성: 𝑃(𝑋, 𝑌) = 𝑃 (𝑋) 𝑃(𝑌).  
→ 𝐶𝑜𝑣(𝑋, 𝑌) = 𝐸[𝑋 𝑌] − 𝐸[𝑋]𝐸[𝑌] = 𝐸[𝑋]𝐸[𝑌] − 𝐸[𝑋]𝐸[𝑌] = 0.  
→ 𝐶𝑜𝑟𝑟(𝑋, 𝑌) = 0. 그러므로 “상관성 없음”을 내포함.  
- 상관계수: 𝐶𝑜𝑟𝑟 𝑋, 𝑌 .  
→ 상관계수는 -1과 1 사이의 수치이다.  
→ “상관성이 없다” = “상관계수 0”. 하지만 독립성을 내포하지는 않는다.  
예). -1, 0, 1에서 동일확률을 갖는 확률변수 X와 𝑌 = 𝑋^2사이의 상관계수는 0
이지만 독립적이지는 않다.


<hr>

# 6주차
## <1>